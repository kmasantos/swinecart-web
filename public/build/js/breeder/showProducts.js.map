{"version":3,"sources":["product.js","filter.js","manageProducts_script.js","formValidationMethods.js","manageProducts_validation.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACn4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/mBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"showProducts.js","sourcesContent":["\"use strict\";\n\nvar product = {\n  before_select_value: \"\",\n  current_display_photo: 0,\n  modal_history: [],\n  modal_history_tos: function() {\n    return product.modal_history[product.modal_history.length - 1];\n  },\n\n  add: function(parent_form) {\n    // Attach overlay preloader\n\n    $(\n      '<div id=\"overlay-preloader-circular\" class=\"valign-wrapper\" style=\"padding:7rem;\">' +\n        '<div class=\"center-align preloader-overlay\">' +\n        '<div class=\"preloader-wrapper big active\">' +\n        '<div class=\"spinner-layer spinner-blue-only\">' +\n        '<div class=\"circle-clipper left\">' +\n        '<div class=\"circle\"></div>' +\n        '</div><div class=\"gap-patch\">' +\n        '<div class=\"circle\"></div>' +\n        '</div><div class=\"circle-clipper right\">' +\n        '<div class=\"circle\"></div>' +\n        \"</div>\" +\n        \"</div>\" +\n        \"</div>\" +\n        \"</div>\" +\n        \"</div>\"\n    )\n      .css({\n        position: \"absolute\",\n        width: \"100%\",\n        height: \"100%\",\n        top: $(\"#add-product-modal .modal-content\").scrollTop(),\n        left: 0,\n        background: \"rgba(255,255,255,0.8)\",\n        display: \"block\"\n      })\n      .appendTo(\n        $(\"#add-product-modal .modal-content\").css(\"position\", \"relative\")\n      );\n\n    // Let the overlay preloader change its top position every scroll\n    $(\"#add-product-modal .modal-content\").scroll(function() {\n      $(\"#overlay-preloader-circular\").css({ top: $(this).scrollTop() });\n    });\n\n    var data_values = {\n      name: parent_form.find(\"input[name=name]\").val(),\n      type: parent_form.find(\"#select-type\").val(),\n      //\"price\": parent_form.find('input[name=price]').val(),\n\n      min_price: parent_form.find(\"input[name=min_price]\").val(),\n      max_price: parent_form.find(\"input[name=max_price]\").val(),\n\n      farm_from_id: parent_form.find(\"#select-farm\").val(),\n      birthdate: parent_form.find(\"input[name=birthdate]\").val(),\n      birthweight: parent_form.find(\"input[name=birthweight]\").val(),\n      house_type: parent_form.find(\"#select-housetype\").val(),\n      adg: parent_form.find(\"input[name=adg]\").val(),\n      fcr: parent_form.find(\"input[name=fcr]\").val(),\n      backfat_thickness: parent_form\n        .find(\"input[name=backfat_thickness]\")\n        .val(),\n      lsba: parent_form.find(\"input[name=lsba]\").val(),\n      left_teats: parent_form.find(\"input[name=left_teats]\").val(),\n      right_teats: parent_form.find(\"input[name=right_teats]\").val(),\n      other_details: $(\"#other_details\").val(),\n      quantity: $(\".product-quantity\").val(),\n      _token: parent_form.find(\"input[name=_token]\").val()\n    };\n\n    /* Check if the checkbox for product uniqueness is checked or not */\n    if ($(\".product-unique-checker\").is(\":checked\"))\n      data_values[\"is_unique\"] = 1;\n    else data_values[\"is_unique\"] = 0;\n\n    /* Set proper values for semen type */\n    var select_type_value = $(\"#select-type option:selected\").text();\n    if (select_type_value === \"Semen\") {\n      data_values[\"is_unique\"] = 0;\n      data_values.quantity = -1;\n    }\n\n    data_values.min_price = data_values.min_price.replace(\",\", \"\"); // remove comma in price before storing\n    data_values.max_price = data_values.max_price.replace(\",\", \"\"); // remove comma in price before storing\n\n    // Transform breed syntax if crossbreed\n    if ($(\"#create-product input:checked\").val() === \"crossbreed\") {\n      var fbreed = parent_form.find(\"input[name=fbreed]\").val();\n      var mbreed = parent_form.find(\"input[name=mbreed]\").val();\n\n      data_values[\"breed\"] =\n        fbreed.toLowerCase().trim() + \"+\" + mbreed.toLowerCase().trim();\n      console.log(\n        fbreed.toLowerCase().trim() + \"+\" + mbreed.toLowerCase().trim()\n      );\n    } else\n      data_values[\"breed\"] = parent_form\n        .find(\"input[name=breed]\")\n        .val()\n        .toLowerCase()\n        .trim();\n\n    // Do AJAX\n    $.ajax({\n      url: parent_form.attr(\"action\"),\n      type: \"POST\",\n      cache: false,\n      data: data_values,\n      success: function(data) {\n        var data = JSON.parse(data);\n        var hidden_inputs =\n          '<input name=\"productId\" type=\"hidden\" value=\"' +\n          data.product_id +\n          '\">' +\n          '<input name=\"name\" type=\"hidden\" value=\"' +\n          data.name +\n          '\">' +\n          '<input name=\"type\" type=\"hidden\" value=\"' +\n          data.type +\n          '\">' +\n          '<input name=\"breed\" type=\"hidden\" value=\"' +\n          data.breed +\n          '\">';\n\n        Materialize.toast(\"Product added!\", 2500, \"green lighten-1\");\n        //location.href = location.origin + '/breeder/products'; // redirect to Show Products page\n\n        $(\"#media-dropzone\").append(hidden_inputs);\n        $(\"#add-media-modal h4\").append(\" to \" + \"'\" + data.name + \"'\");\n        $(\".add-product-button\").attr(\"href\", \"#add-media-modal\");\n        $(\"#overlay-preloader-circular\").remove();\n        $(\"#add-product-modal\").modal(\"close\");\n        parent_form.find(\"#submit-button\").removeClass(\"disabled\");\n\n        $(\"#submit-button\").removeClass(\"disabled\");\n        $(\"#submit-button\").html(\"Add Product\");\n\n        // Open Add Media Modal\n        $(\"#add-media-modal\").modal(\"open\");\n        product.modal_history.push(\"#add-media-modal\");\n      },\n      error: function(message) {\n        console.log(message[\"responseText\"]);\n        $(\"#overlay-preloader-circular\").remove();\n      }\n    });\n  },\n\n  edit: function(parent_form, update_button) {\n    var data_values = {\n      id: parent_form.find(\"input[name=productId]\").val(),\n      name: parent_form.find(\"input[name='edit-name']\").val(),\n      type: parent_form.find(\"#edit-select-type\").val(),\n      farm_from_id: parent_form.find(\"#edit-select-farm\").val(),\n      birthdate: parent_form.find(\"input[name='edit-birthdate']\").val(),\n      price: parent_form.find(\"input[name='edit-price']\").val(),\n      adg: parent_form.find(\"input[name='edit-adg']\").val(),\n      fcr: parent_form.find(\"input[name='edit-fcr']\").val(),\n      backfat_thickness: parent_form\n        .find(\"input[name='edit-backfat_thickness']\")\n        .val(),\n      _token: parent_form.find(\"input[name=_token]\").val()\n    };\n\n    data_values.price = data_values.price.replace(\",\", \"\");\n\n    // Transform breed syntax if crossbreed\n    if ($(\"#edit-product input:checked\").val() === \"crossbreed\") {\n      var fbreed = parent_form.find(\"input[name='edit-fbreed']\").val();\n      var mbreed = parent_form.find(\"input[name='edit-mbreed']\").val();\n\n      data_values[\"breed\"] =\n        fbreed.toLowerCase().trim() + \"+\" + mbreed.toLowerCase().trim();\n    } else\n      data_values[\"breed\"] = parent_form\n        .find(\"input[name='edit-breed']\")\n        .val()\n        .toLowerCase()\n        .trim();\n\n    $.when(\n      // Wait for the update on the database\n      // Do AJAX\n      $.ajax({\n        url: parent_form.attr(\"action\"),\n        type: \"PUT\",\n        cache: false,\n        data: data_values,\n        success: function(data) {\n          Materialize.toast(\"Product updated!\", 1500, \"green lighten-1\");\n          // $('#edit-product-modal').modal('close');\n        },\n        error: function(message) {\n          console.log(message[\"responseText\"]);\n        }\n      })\n    ).done(function() {\n      // Enable update-button\n      update_button.removeClass(\"disabled\");\n      update_button.html(\"Update Product\");\n\n      // Then get the product summary\n      //product.modal_history.push('#edit-product-modal');\n      product.get_summary(\n        $(\"#edit-product\")\n          .find('input[name=\"productId\"]')\n          .val()\n      );\n    });\n  },\n\n  delete_selected: function(parent_form, products, products_container) {\n    // Check if there are checked products\n    if (products.length > 0) {\n      // Acknowledge first confirmation to remove\n      $(\"#confirmation-modal\").modal(\"open\");\n      $(\"#confirm-remove\").click(function(e) {\n        e.preventDefault();\n\n        config.preloader_progress.fadeIn();\n        // Do AJAX\n        $.ajax({\n          url: config.manageSelected_url,\n          type: \"DELETE\",\n          cache: false,\n          data: {\n            _token: parent_form.find(\"input[name=_token]\").val(),\n            product_ids: products\n          },\n          success: function(data) {\n            products.forEach(function(element) {\n              $(\"#product-\" + element).remove();\n            });\n            config.preloader_progress.fadeOut();\n            Materialize.toast(\n              \"Selected Products deleted!\",\n              2000,\n              \"green lighten-1\"\n            );\n\n            if (products_container.children().length == 0) {\n              products_container.append(`\n                                <table>\n                                    <tr>\n                                        <td>\n                                            <h5 class=\"center\">There are no products</h5>\n                                        </td>\n                                    </tr>\n                                </table>\n                            `);\n            }\n          },\n          error: function(message) {\n            console.log(message[\"responseText\"]);\n          }\n        });\n      });\n    } else Materialize.toast(\"No products chosen!\", 1500, \"orange accent-2\");\n  },\n\n  get_product: function(product_id) {\n    // Do AJAX\n    $.ajax({\n      url: config.productSummary_url,\n      type: \"GET\",\n      cache: false,\n      data: {\n        product_id: product_id\n      },\n      success: function(data) {\n        var data = JSON.parse(data);\n        var parent_form = $(\"#edit-product\");\n        var images = data.imageCollection;\n        var videos = data.videoCollection;\n        var image_list = \"\";\n        var video_list = \"\";\n\n        var hidden_inputs =\n          '<input name=\"productId\" type=\"hidden\" value=\"' +\n          data.id +\n          '\">' +\n          '<input name=\"name\" type=\"hidden\" value=\"' +\n          data.name +\n          '\">' +\n          '<input name=\"type\" type=\"hidden\" value=\"' +\n          data.type +\n          '\">' +\n          '<input name=\"breed\" type=\"hidden\" value=\"' +\n          data.breed +\n          '\">';\n\n        $(parent_form).append(\n          '<input name=\"productId\" type=\"hidden\" value=\"' + data.id + '\">'\n        );\n        $(\"#edit-media-dropzone\").append(hidden_inputs);\n        $(\"#edit-media-modal h4\").html(\n          \"Edit Media of \" + \"'\" + data.name + \"'\"\n        );\n\n        // General input initialization\n        parent_form.find(\"input[name='edit-name']\").val(data.name);\n        parent_form.find(\"label[for='edit-name']\").addClass(\"active\");\n        parent_form.find(\"input[name='edit-price']\").val(data.price);\n        parent_form.find(\"label[for='edit-price']\").addClass(\"active\");\n        parent_form.find(\"input[name='edit-birthdate']\").val(data.birthdate);\n        parent_form.find(\"label[for='edit-birthdate']\").addClass(\"active\");\n        parent_form.find(\"input[name='edit-adg']\").val(data.adg);\n        parent_form.find(\"label[for='edit-adg']\").addClass(\"active\");\n        parent_form.find(\"input[name='edit-fcr']\").val(data.fcr);\n        parent_form.find(\"label[for='edit-fcr']\").addClass(\"active\");\n        parent_form\n          .find(\"input[name='edit-backfat_thickness']\")\n          .val(data.backfat_thickness);\n        parent_form\n          .find(\"label[for='edit-backfat_thickness']\")\n          .addClass(\"active\");\n\n        // For select initializations\n        $(\"#edit-select-type\").val(data.type.toLowerCase());\n        $(\"#edit-select-farm\").val(data.farm_from_id);\n        $(\"select\").material_select();\n\n        // For the breed initialization\n        if (data.breed.includes(\"x\")) {\n          var crossbreed = data.breed.split(\"x\");\n\n          // Check the crossbreed radio\n          $(\"#edit-crossbreed\").prop(\"checked\", true);\n\n          parent_form\n            .find(\"input[name='edit-fbreed']\")\n            .val(crossbreed[0].toString().trim());\n          parent_form.find(\"label[for='edit-fbreed']\").addClass(\"active\");\n          parent_form\n            .find(\"input[name='edit-mbreed']\")\n            .val(crossbreed[1].toString().trim());\n          parent_form.find(\"label[for='edit-mbreed']\").addClass(\"active\");\n          parent_form.find(\".input-purebreed-container\").hide();\n          parent_form.find(\".input-crossbreed-container\").fadeIn(300);\n        } else {\n          // Check the crossbreed radio\n          $(\"#edit-purebreed\").prop(\"checked\", true);\n\n          parent_form.find(\"input[name='edit-breed']\").val(data.breed);\n          parent_form.find(\"label[for='edit-breed']\").addClass(\"active\");\n          parent_form.find(\".input-crossbreed-container\").hide();\n          parent_form.find(\".input-purebreed-container\").fadeIn(300);\n        }\n\n        // Other Details\n        if (data.other_details) {\n          // Set-up value of current_modal_id\n          product.modal_history.push(\"#edit-product-modal\");\n\n          // Set-up Images in Edit Media Modal\n          var images_length = images.length;\n          if (images_length === 0) {\n            console.log(\"here video\");\n            $(\".edit-image-contents\").html(\n              '<p class=\"grey-text\">(No uploaded images)</p>'\n            );\n          } else {\n            images.forEach(function(element) {\n              var anchor_tag_html = \"Set\";\n              var delete_anchor_tag_html = \"Delete\";\n              var cursor_none_prop = '\"';\n\n              // Change html value of set-display-photo anchor tag if image is the display photo\n              if (element.id == data.primary_img_id) {\n                product.current_display_photo = element.id;\n                anchor_tag_html = \"Displayed\";\n                cursor_none_prop = 'cursor: none;\"';\n              }\n\n              image_list +=\n                '<div class=\"col s12 m6\">' +\n                '<div class=\"card hoverable\">' +\n                '<div class=\"card-image white\">' +\n                '<img src=\"' +\n                config.productImages_path +\n                \"/\" +\n                element.name +\n                '\">' +\n                \"</div>\" +\n                '<div class=\"card-action grey lighten-5\" style=\"border-top: none !important;\">' +\n                \"<div class=row>\" +\n                '<div class=\"col s4 m6 l3\">' +\n                '<a href=\"#!\" id=\"display-photo\" style=\"font-weight: 700; width: 11vw !important; ' +\n                cursor_none_prop +\n                'class=\"set-display-photo btn blue lighten-1\" data-product-id=\"' +\n                data.id +\n                '\" data-img-id=\"' +\n                element.id +\n                '\">' +\n                anchor_tag_html +\n                \"</a>\" +\n                \"</div>\" +\n                '<div class=\"col s3\"></div>' +\n                '<div class=\"col s4 m6 l3\">' +\n                '<a href=\"#!\" style=\"font-weight: 700; width: 10vw !important;\" class=\"delete-image btn-flat grey-text text-darken-2 grey lighten-5\" data-media-id=\"' +\n                element.id +\n                '\">' +\n                delete_anchor_tag_html +\n                \"</a>\" +\n                \"</div>\" +\n                \"</div>\" +\n                \"</div>\" +\n                \"</div>\" +\n                \"</div>\";\n            });\n\n            $(\"#edit-images-summary .card-content .edit-image-contents\").html(\n              image_list\n            );\n          }\n\n          // Set-up Videos in Edit Media Modal\n          var videos_length = videos.length;\n          if (videos_length === 0) {\n            console.log(\"here video\");\n            $(\".edit-video-contents\").html(\n              '<p class=\"grey-text\">(No uploaded videos)</p>'\n            );\n          } else {\n            videos.forEach(function(element) {\n              video_list +=\n                '<div class=\"col s12 m6\">' +\n                '<div class=\"card hoverable\">' +\n                '<div class=\"card-image\">' +\n                '<video class=\"responsive-video\" controls>' +\n                '<source src=\"' +\n                config.productVideos_path +\n                \"/\" +\n                element.name +\n                '\" type=\"video/mp4\">' +\n                \"</video>\" +\n                \"</div>\" +\n                '<div class=\"card-action grey lighten-5\" style=\"border-top: none !important;\">' +\n                \"<a></a>\" +\n                '<a href=\"#!\" style=\"font-weight: 700; float: right !important;\" class=\"delete-video grey-text text-darken-2 grey lighten-5\" data-media-id=\"' +\n                element.id +\n                '\">Delete</a>' +\n                \"</div>\" +\n                \"</div>\" +\n                \"</div>\";\n            });\n\n            $(\"#edit-videos-summary .card-content .edit-video-contents\").html(\n              video_list\n            );\n          }\n        }\n      },\n      error: function(message) {\n        console.log(message[\"responseText\"]);\n      }\n    });\n  },\n\n  get_summary: function(product_id) {\n    $(product.modal_history_tos()).modal(\"close\");\n\n    // Set-up first modal action buttons depending\n    // on what modal it came from\n\n    if (product.modal_history_tos() === \"#add-product-modal\") {\n      $(\".from-add-process\").show();\n      $(\".from-edit-process\").hide();\n    } else {\n      $(\".from-add-process\").hide();\n      $(\".from-edit-process\").show();\n    }\n\n    $(\"#product-summary-modal\").modal({ dismissible: false });\n    $(\"#product-summary-modal\").modal(\"open\");\n    product.modal_history.push(\"#product-summary-modal\");\n\n    // Attach overlay preloader\n    $(\n      '<div id=\"overlay-preloader-circular\" class=\"valign-wrapper\" style=\"padding:7rem;\">' +\n        '<div class=\"center-align preloader-overlay\">' +\n        '<div class=\"preloader-wrapper big active\">' +\n        '<div class=\"spinner-layer spinner-blue-only\">' +\n        '<div class=\"circle-clipper left\">' +\n        '<div class=\"circle\"></div>' +\n        '</div><div class=\"gap-patch\">' +\n        '<div class=\"circle\"></div>' +\n        '</div><div class=\"circle-clipper right\">' +\n        '<div class=\"circle\"></div>' +\n        \"</div>\" +\n        \"</div>\" +\n        \"</div>\" +\n        \"</div>\" +\n        \"</div>\"\n    )\n      .css({\n        position: \"absolute\",\n        width: \"100%\",\n        height: \"100%\",\n        top: $(\"#add-product-modal .modal-content\").scrollTop(),\n        left: 0,\n        background: \"rgba(255,255,255,0.8)\",\n        display: \"block\"\n      })\n      .appendTo(\n        $(\"#product-summary-modal .modal-content\").css(\"position\", \"relative\")\n      );\n\n    // Let the overlay preloader change its top position every scroll\n    $(\"#product-summary-modal .modal-content\").scroll(function() {\n      $(\"#overlay-preloader-circular\").css({ top: $(this).scrollTop() });\n    });\n\n    // Do AJAX\n    $.ajax({\n      url: config.productSummary_url,\n      type: \"GET\",\n      cache: false,\n      data: {\n        product_id: product_id\n      },\n      success: function(data) {\n        var data = JSON.parse(data);\n        var images = data.imageCollection;\n        var videos = data.videoCollection;\n\n        // General Info\n        /* Catching the unfilled input fields */\n\n        // ADG\n        if (data.adg === null) {\n          var item_adg =\n            '<li class=\"collection-item\">Average Daily Gain: <i class=\"grey-text\">Not indicated</i></li>';\n        } else {\n          var item_adg =\n            '<li class=\"collection-item\">Average Daily Gain: ' +\n            data.adg +\n            \" g</li>\";\n        }\n\n        // FCR\n        if (data.fcr === null) {\n          var item_fcr =\n            '<li class=\"collection-item\">Feed Conversion Ratio: <i class=\"grey-text\">Not indicated</i></li>';\n        } else {\n          var item_fcr =\n            '<li class=\"collection-item\">Feed Conversion Ratio: ' +\n            data.fcr +\n            \"</li>\";\n        }\n\n        // Backfat Thickness\n        if (data.backfat_thickness === null) {\n          var item_backfat_thickness =\n            '<li class=\"collection-item\">Backfat Thickness: <i class=\"grey-text\">Not indicated</i></li>';\n        } else {\n          var item_backfat_thickness =\n            '<li class=\"collection-item\">Backfat Thickness: ' +\n            data.backfat_thickness +\n            \"mm </li>\";\n        }\n\n        // Backfat Thickness\n        if (data.lsba === null) {\n          var item_lsba =\n            '<li class=\"collection-item\">Litter size born alive: <i class=\"grey-text\">Not indicated</i></li>';\n        } else {\n          var item_lsba =\n            '<li class=\"collection-item\">Litter size born alive: ' +\n            data.lsba +\n            \"</li>\";\n        }\n\n        // Birthweight\n        if (data.birthweight === null) {\n          var item_birthweight =\n            '<li class=\"collection-item\">Birth weight: <i class=\"grey-text\">Not indicated</i></li>';\n        } else {\n          var item_birthweight =\n            '<li class=\"collection-item\">Birth weight: ' +\n            data.birthweight +\n            \"g </li>\";\n        }\n\n        // Number of teats only for Gilt and Sow\n        if (data.type === \"Gilt\" || data.type === \"Sow\") {\n          // number of teats\n          if (data.left_teats === null || data.right_teats === null) {\n            var item_number_of_teats =\n              '<li class=\"collection-item\">Number of teats <i class=\"grey-text\">Not indicated</i></li>';\n          } else {\n            var item_number_of_teats =\n              '<li class=\"collection-item\">Number of teats: ' +\n              data.left_teats +\n              \"(left) | \" +\n              data.right_teats +\n              \" (right)\" +\n              \"</li>\";\n          }\n        } else var item_number_of_teats = \"\";\n\n        // House Type\n        if (data.house_type === null) {\n          var item_house_type =\n            '<li class=\"collection-item\">House Type: <i class=\"grey-text\">Not indicated</i></li>';\n        } else {\n          var house_type_string;\n          if (data.house_type === \"tunnelventilated\")\n            house_type_string = \"Tunnel ventilated\";\n          else house_type_string = \"Open sided\";\n\n          var item_house_type =\n            '<li class=\"collection-item\">House Type: ' +\n            house_type_string +\n            \"</li>\";\n        }\n\n        var items =\n          item_adg +\n          item_fcr +\n          item_backfat_thickness +\n          item_lsba +\n          item_birthweight +\n          item_number_of_teats +\n          item_house_type;\n        var image_list = \"\";\n        var video_list = \"\";\n\n        var images_length = images.length;\n        if (images_length === 0) {\n          $(\".image-contents\").html(\n            '<p class=\"grey-text\">(No uploaded images)</p>'\n          );\n        } else {\n          // Images\n          images.forEach(function(element) {\n            var anchor_tag_html = \"Set\";\n            var delete_anchor_tag_html = \"Delete\";\n            var cursor_none_prop = '\"';\n\n            // Change html value of set-display-photo anchor tag if image is the display photo\n            if (element.id == data.primary_img_id) {\n              product.current_display_photo = element.id;\n              anchor_tag_html = \"Displayed\";\n              cursor_none_prop = 'cursor: none;\"';\n            }\n\n            image_list +=\n              '<div class=\"col s12 m6\">' +\n              '<div class=\"card hoverable\">' +\n              '<div class=\"card-image\">' +\n              '<img src=\"' +\n              config.productImages_path +\n              \"/\" +\n              element.name +\n              '\">' +\n              \"</div>\" +\n              '<div class=\"card-action grey lighten-5\" style=\"border-top: none !important;\">' +\n              \"<div class=row>\" +\n              '<div class=\"col s4 m6 l3\">' +\n              '<a href=\"#!\" id=\"display-photo\" style=\"font-weight: 700; width: 11vw !important; ' +\n              cursor_none_prop +\n              'class=\"set-display-photo btn blue lighten-1\" data-product-id=\"' +\n              data.id +\n              '\" data-img-id=\"' +\n              element.id +\n              '\">' +\n              anchor_tag_html +\n              \"</a>\" +\n              \"</div>\" +\n              '<div class=\"col s3\"></div>' +\n              '<div class=\"col s4 m6 l3\">' +\n              '<a href=\"#!\" style=\"font-weight: 700; width: 10vw !important;\" class=\"delete-image btn-flat grey-text text-darken-2 grey lighten-5\" data-media-id=\"' +\n              element.id +\n              '\">' +\n              delete_anchor_tag_html +\n              \"</a>\" +\n              \"</div>\" +\n              \"</div>\" +\n              \"</div>\" +\n              \"</div>\" +\n              \"</div>\";\n          });\n\n          $(\"#images-summary .card-content .image-contents\").html(image_list);\n        }\n\n        // Videos\n        var videos_length = videos.length;\n        if (videos_length === 0) {\n          $(\".video-contents\").html(\n            '<p class=\"grey-text\">(No uploaded videos)</p>'\n          );\n        } else {\n          videos.forEach(function(element) {\n            video_list +=\n              '<div class=\"col s12 m6\">' +\n              '<video class=\"responsive-video hoverable\" controls>' +\n              '<source src=\"' +\n              config.productVideos_path +\n              \"/\" +\n              element.name +\n              '\" type=\"video/mp4\">' +\n              \"</video>\" +\n              \"</div>\";\n          });\n\n          $(\"#videos-summary .card-content .video-contents\").html(video_list);\n        }\n\n        $(\"#product-summary-collection h3\").html(data.name);\n\n        var item_type = data.type + \" - \" + data.breed;\n        $(\"#product-summary-collection h5\").html(item_type);\n\n        $(\"#product-summary-province\").html(\n          \"Farm Address: \" + data.farm_province\n        );\n\n        if (data.birthdate === \"November 30, -0001\") {\n          var item_birthdate = '<i class=\"grey-text\">No age information</i>';\n        } else {\n          var item_birthdate = \"Birthdate: \" + data.birthdate;\n        }\n        $(\"#product-summary-birthdate\").html(item_birthdate);\n\n        $(\"#swine-information\").html(items);\n        if (data.other_details === null) {\n          var other_details_data = '<i class=\"grey-text\">Not indicated</i>';\n        } else {\n          var other_details_data = \"<p>\" + data.other_details + \"</p>\";\n        }\n        $(\"#other-information\").html(other_details_data);\n\n        $(\"#display-product-form\").prepend(\n          '<input name=\"productId\" type=\"hidden\" value=\"' + data.id + '\">'\n        );\n        $(\"#overlay-preloader-circular\").remove();\n      },\n      error: function(message) {\n        console.log(message[\"responseText\"]);\n      }\n    });\n  },\n\n  set_display_photo: function(anchor_tag, parent_form, product_id, img_id) {\n    // Disable the Display photo anchor tag\n    anchor_tag.addClass(\"disabled\");\n    anchor_tag.html(\"Setting ...\");\n\n    // Do AJAX\n    $.ajax({\n      url: parent_form.attr(\"action\"),\n      type: \"POST\",\n      cache: false,\n      data: {\n        _token: parent_form.find(\"input[name=_token]\").val(),\n        product_id: product_id,\n        img_id: img_id\n      },\n      success: function(data) {\n        // Overwrite the old display photo's anchor description\n        parent_form\n          .find(\n            '.set-display-photo[data-img-id=\"' +\n              product.current_display_photo +\n              '\"]'\n          )\n          .css(\"cursor\", \"default\")\n          .html(\"Set\");\n\n        // New Display Photo id\n        product.current_display_photo = img_id;\n        anchor_tag.removeClass(\"disabled\");\n        anchor_tag.css(\"cursor\", \"none\");\n        anchor_tag.html(\"Displayed\");\n      },\n      error: function(message) {\n        console.log(message[\"responseText\"]);\n      }\n    });\n  },\n\n  display_product: function(parent_form) {\n    // Do AJAX\n    $.ajax({\n      url: parent_form.attr(\"action\"),\n      type: \"POST\",\n      cache: false,\n      data: {\n        _token: document.querySelector('meta[name=\"csrf-token\"]').content,\n        product_id: parent_form.find(\"input[name=productId]\").val()\n      },\n      success: function(data) {\n        window.setTimeout(function() {\n          location.reload(true);\n        }, 1200);\n      },\n      error: function(message) {\n        console.log(message[\"responseText\"]);\n      }\n    });\n  },\n\n  update_selected: function(parent_form, update_button, products, status) {\n    // Check if there are checked products\n    if (products.length > 0) {\n      config.preloader_progress.fadeIn();\n      // Do AJAX\n      $.ajax({\n        url: parent_form.attr(\"action\"),\n        type: \"POST\",\n        cache: false,\n        data: {\n          _token: parent_form.find(\"input[name=_token]\").val(),\n          product_ids: products,\n          updateTo_status: status\n        },\n        success: function(data) {\n          var filter_status = $(\"#status-select option:selected\").val();\n\n          // Do not remove product card if the filter enables\n          // all product statuses (hidden & displayed)\n          if (filter_status == \"all-status\") {\n            var product_name = update_button.attr(\"data-product-name\");\n\n            if (status == \"display\") {\n              update_button.removeClass(\"display-product-button\");\n              update_button.addClass(\"hide-product-button\");\n              update_button.attr(\n                \"data-tooltip\",\n                \"Hide \" + \"'\" + product_name + \"'\"\n              );\n              update_button.tooltip({ delay: 50 });\n              update_button.find(\".material-icons\").html(\"visibility_off\");\n              update_button\n                .parents(\".card\")\n                .find(\".card-image img\")\n                .removeClass(\"hidden\");\n            } else {\n              update_button.removeClass(\"hide-product-button\");\n              update_button.addClass(\"display-product-button\");\n              update_button.attr(\n                \"data-tooltip\",\n                \"Display \" + \"'\" + product_name + \"'\"\n              );\n              update_button.tooltip({ delay: 50 });\n              update_button.find(\".material-icons\").html(\"visibility\");\n              update_button\n                .parents(\".card\")\n                .find(\".card-image img\")\n                .addClass(\"hidden\");\n            }\n          } else {\n            products.forEach(function(element) {\n              $(\"#product-\" + element).remove();\n            });\n          }\n          config.preloader_progress.fadeOut();\n          Materialize.toast(\n            \"Selected Products updated!\",\n            2000,\n            \"green lighten-1\"\n          );\n        },\n        error: function(message) {\n          console.log(message[\"responseText\"]);\n        }\n      });\n    } else Materialize.toast(\"No products chosen!\", 1500, \"orange accent-2\");\n  }\n};\n\n/* function addComma(string) {\n  // clear every instance of keyup input with comma\n  string.value = string.value.replace(\",\", \"\");\n  // add comma to the string number\n  string.value = string.value.replace(/\\d{1,3}(?=(\\d{3})+(?!\\d))/g, \"$&,\");\n}\n\n$('.price-field').keyup(function (event) {\n  // got this from: https://stackoverflow.com/questions/2632359/can-jquery-add-commas-while-user-typing-numbers\n\n  $(this).val(function (index, value) {\n    return value\n      .replace(\",\", \"\") // replace\n      .replace(/\\d{1,3}(?=(\\d{3})+(?!\\d))/g, \"$&,\");\n  });\n}); */\n\n$(\".product-quantity , .edit-product-quantity\").keyup(function() {\n  var pattern = /^[1-9]\\d*$/;\n  $(this).val(function(index, value) {\n    return value.match(pattern);\n  });\n});\n","'use strict';\n\nvar filter = {\n    apply: function(){\n        // URL search syntax: ?type=value[+value]*&status=value[+value]&sort=value*\n        var filter_parameters = '?';\n        var type_url = 'type=';\n        var status_url = '&status=';\n        var sort_url = '&sort=';\n\n        // Type parameter\n        type_url += $('#type-select option:selected').val();\n\n        // Status parameter\n        status_url += $('#status-select option:selected').val();\n\n        // Sort parameter\n        sort_url += $('#sort-select option:selected').val();\n\n        filter_parameters += type_url + status_url + sort_url;\n\n        window.location = config.manageProducts_url+filter_parameters;\n\n    }\n};\n","$(document).ready(function() {\n  // Variable for checking if all products\n  // are selected or not\n  var all_checked = false;\n\n  $(\"#add-media-modal\").modal({ dismissible: false });\n\n  // Hide certain elements\n  $(\".input-crossbreed-container\").hide();\n\n  // initialization of Materialize's Date Picker\n  $(\".datepicker\").pickadate({\n    max: true,\n    selectMonths: true,\n    selectYears: 4,\n    format: \"mmmm d, yyyy\"\n  });\n\n  // prevent the date picker from instatly closing upon clicking\n  // Materialize bug? \n  $('.datepicker').on('mousedown', function (event) {\n    event.preventDefault();\n  });\n\n  // prevent the dropdown from instantly closing upon clicking\n  // Materialize bug?\n  $('#select-type-wrapper, #select-farm-wrapper, #select-housetype-wrapper').on('click', function (event) {\n    event.stopPropagation();\n  });\n\n  // prevent the dropdown from instantly closing upon clicking\n  // Materialize bug?\n  $('#sort-select, #status-select, #type-select').on('click', function (event) {\n    event.stopPropagation();\n  });\n\n  /* ----------- Manage Products page general functionalities ----------- */\n  // Always showing FAB\n  $(\"#action-button\").show();\n\n  // Back to top button functionality\n  /*$(window).scroll(function(){\n      if ($(this).scrollTop() >= 250) $('#action-button').fadeIn(200);\n      else{\n          $('.fixed-action-btn').closeFAB();\n          $('#action-button').fadeOut(200);\n      }\n  });*/\n\n  // Giving a border on product card/s when checkbox is clicked\n  $(\".single-checkbox\").change(function(e) {\n    e.preventDefault();\n\n    // Iterates all the product cards\n    $(\"#view-products-container input[type=checkbox]\").each(function() {\n      // Locates the checked card/s and retrieves the id/s for jQuery\n      var string = \"#product-\";\n      var product_id = $(this).attr(\"data-product-id\");\n      var div_id = string + product_id;\n\n      // Apply the border on the element with class of 'card hoverable'\n      var card_element = div_id + \">div\";\n\n      // Apply the border/s if checked, else remove the blue border\n      if ($(this).is(\":checked\")) {\n        $(card_element).css({\n          border: \"solid 4px #00705E\"\n        });\n      } else {\n        $(card_element).css({\n          border: \"solid 4px transparent\"\n        });\n      }\n    });\n  });\n\n  // Select All Products\n  $(\".select-all-button\").click(function(e) {\n    e.preventDefault();\n\n    if (!all_checked) {\n      // Check all checkboxes\n      $(\"#view-products-container input[type=checkbox]\").prop(\"checked\", true);\n\n      // Add border to all cards\n      $(\".card.hoverable\").each(function() {\n        $(this).css({\n          border: \"solid 4px #00705E\"\n        });\n      });\n\n      $(\".select-all-button i\").html(\"event_busy\");\n      $(\".select-all-button\").attr(\"data-tooltip\", \"Unselect all Products\");\n      all_checked = true;\n    } else {\n      // Uncheck all checkboxes\n      $(\"#view-products-container input[type=checkbox]\").prop(\"checked\", false);\n\n      // Remove the added border to all cards\n      $(\".card.hoverable\").each(function() {\n        $(this).css({\n          border: \"solid 4px transparent\"\n        });\n      });\n      $(\".select-all-button i\").html(\"event_available\");\n      $(\".select-all-button\").attr(\"data-tooltip\", \"Select all Products\");\n      all_checked = false;\n    }\n\n    $(\".tooltipped\").tooltip();\n  });\n\n  // Display Selected Button\n  $(\".display-selected-button\").click(function(e) {\n    e.preventDefault();\n    var checked_products = [];\n\n    $(\"#view-products-container input[type=checkbox]:checked\").each(function() {\n      checked_products.push($(this).attr(\"data-product-id\"));\n    });\n    product.update_selected(\n      $(\"#manage-selected-form\"),\n      \"\",\n      checked_products,\n      \"display\"\n    );\n  });\n\n  // Hide Selected Button\n  $(\".hide-selected-button\").click(function(e) {\n    e.preventDefault();\n    var checked_products = [];\n\n    $(\"#view-products-container input[type=checkbox]:checked\").each(function() {\n      checked_products.push($(this).attr(\"data-product-id\"));\n    });\n    product.update_selected(\n      $(\"#manage-selected-form\"),\n      \"\",\n      checked_products,\n      \"hide\"\n    );\n  });\n\n  // Delete selected products\n  $(\".delete-selected-button\").click(function(e) {\n    e.preventDefault();\n    var checked_products = [];\n\n    $(\"#view-products-container input[type=checkbox]:checked\").each(function() {\n      checked_products.push($(this).attr(\"data-product-id\"));\n    });\n    product.delete_selected(\n      $(\"#manage-selected-form\"),\n      checked_products,\n      $(\"#view-products-container\")\n    );\n  });\n\n  // Display chosen product\n  $(\"body\").on(\"click\", \".display-product-button\", function(e) {\n    e.preventDefault();\n    $(this).tooltip(\"remove\");\n    product.update_selected(\n      $(\"#manage-selected-form\"),\n      $(this),\n      [$(this).attr(\"data-product-id\")],\n      \"display\"\n    );\n  });\n\n  // Hide chosen product\n  $(\"body\").on(\"click\", \".hide-product-button\", function(e) {\n    e.preventDefault();\n    $(this).tooltip(\"remove\");\n    product.update_selected(\n      $(\"#manage-selected-form\"),\n      $(this),\n      [$(this).attr(\"data-product-id\")],\n      \"hide\"\n    );\n  });\n\n  /**\n   * This is for handling unique products.\n   * Unique products should only have a product quantity of one\n   */\n  $(\".product-unique-checker\").change(function(e) {\n    e.preventDefault();\n\n    if ($(this).is(\":checked\")) $(\".product-quantity\").attr(\"disabled\", \"true\");\n    else $(\".product-quantity\").removeAttr(\"disabled\");\n  });\n\n  /* Shows a prompt only for semen-type product */\n  $(\"#select-type\").change(function(e) {\n    var select_type_value = $(\"#select-type option:selected\").text();\n    if (select_type_value === \"Semen\") {\n      $(\"#semen-blockquote\").show(300);\n      $(\".product-unique-checker\").attr(\"disabled\", \"true\");\n      $(\".product-quantity\").val(\"\");\n      $(\".product-quantity\").attr(\"disabled\", \"true\");\n    } else {\n      $(\"#semen-blockquote\").hide(300);\n      $(\".product-unique-checker\").removeAttr(\"disabled\");\n      $(\".product-quantity\").val(1);\n      $(\".product-quantity\").removeAttr(\"disabled\");\n    }\n  });\n\n  /* Shows number of teats field only for sow or gilt */\n  $(\"#select-type\").change(function () {\n    var select_type_value = $(\"#select-type option:selected\").text();\n    if (select_type_value === \"Sow\" || select_type_value === \"Gilt\")\n      $(\"#number-of-teats-container\").show();\n    else \n      $(\"#number-of-teats-container\").hide();\n  });\n\n  /**\n   * This is for handling unique products.\n   * Unique products should only have a product quantity of one\n   */\n  $(\".product-quantity\").change(function(e) {\n    e.preventDefault();\n\n    if ($(this).val() > 1)\n      $(\".product-unique-checker\").attr(\"disabled\", \"true\");\n    else $(\".product-unique-checker\").removeAttr(\"disabled\");\n  });\n\n  // Add a product\n  $(\".add-product-button\").click(function() {\n    $(\"#add-product-modal\").modal({\n      ready: function() {\n        // Programmatically select th 'swine-information' tab\n        $(\"#add-product-modal ul.tabs\").tabs(\"select_tab\", \"swine-information\");\n      }\n    });\n    $(\"#add-product-modal\").modal(\"open\");\n    product.modal_history.push(\"#add-product-modal\");\n  });\n\n  // Edit chosen product\n  /* $('.edit-product-button').click(function () {\n    $('#edit-product-modal').modal({\n      ready: function () {\n        // Programmatically select the 'edit-swine-information' tab\n        $('#edit-product-modal ul.tabs').tabs('select_tab', 'edit-swine-information');\n      }\n    });\n    $('#edit-product-modal').modal('open');\n    product.get_product($(this).attr('data-product-id'));\n  }); */\n\n  // Delete chosen product\n  $(\".delete-product-button\").click(function(e) {\n    e.preventDefault();\n    product.delete_selected(\n      $(\"#manage-selected-form\"),\n      [$(this).attr(\"data-product-id\")],\n      $(\"#view-products-container\")\n    );\n  });\n\n  // Redirect to designated link upon checkbox value change\n  $(\"#dropdown-container select\").change(function() {\n    filter.apply();\n  });\n\n  // Back button on modals\n  $(\".back-button\").click(function(e) {\n    e.preventDefault();\n\n    $(product.modal_history.pop()).modal(\"close\");\n\n    // If going back to add-product-modal it must be directed to edit-product-modal\n    if (product.modal_history_tos() === \"#add-product-modal\") {\n      product.get_product(\n        $(\"#add-media-modal form\")\n          .find('input[name=\"productId\"]')\n          .val()\n      );\n\n      // Set-up first modal action buttons\n      if (product.modal_history_tos().includes(\"add\")) {\n        $(\".from-add-process\").show();\n        $(\".from-edit-process\").hide();\n      } else {\n        $(\".from-add-process\").hide();\n        $(\".from-edit-process\").show();\n      }\n    } else $(product.modal_history_tos()).modal(\"open\");\n  });\n\n  /* ----------- Add Product Modal functionalities ----------- */\n  $(\"#add-product-modal #other-details-tab\").click(function(e) {\n    $(\"#submit-button\").show();\n  });\n\n  /* ----------- Add Media Modal functionalities ----------- */\n  // Move to Product Summary Modal\n  $(\"#next-button\").click(function(e) {\n    e.preventDefault();\n    product.get_summary(\n      $(\"#add-media-modal form\")\n        .find('input[name=\"productId\"]')\n        .val()\n    );\n  });\n\n  // media-dropzone initialization and configuration\n  Dropzone.options.mediaDropzone = {\n    paramName: \"media\",\n    uploadMultiple: true,\n    parallelUploads: 1,\n    maxFiles: 12,\n    maxFilesize: 50,\n    acceptedFiles:\n      \"image/png, image/jpeg, image/jpg, video/avi, video/mp4, video/flv, video/mov\",\n    dictDefaultMessage:\n      \"<h5 style='font-weight: 300;'> Drop images/videos here to upload </h5>\" +\n      \"<i class='material-icons'>insert_photo</i> <i class='material-icons'>movie</i>\" +\n      \"<br> <h5 style='font-weight: 300;'> Or just click anywhere in this container to choose file </h5>\",\n    previewTemplate: document.getElementById(\"custom-preview\").innerHTML,\n    init: function() {\n      // Listen to events\n      // Set default thumbnail for videos\n      this.on(\"addedfile\", function(file) {\n        if (file.type.match(/video.*/))\n          this.emit(\"thumbnail\", file, config.images_path + \"/video-icon.png\");\n      });\n\n      // Inject attributes on element upon success of multiple uploads\n      this.on(\"successmultiple\", function(files, response) {\n        response = JSON.parse(response);\n        var item = 0;\n        response.forEach(function(element) {\n          var preview_element = files[item].previewElement;\n          preview_element.setAttribute(\"data-media-id\", element.id);\n          preview_element\n            .getElementsByClassName(\"dz-filename\")[0]\n            .getElementsByTagName(\"span\")[0].innerHTML = element.name;\n          item++;\n        });\n\n        $(\".tooltipped\").tooltip({ delay: 50 });\n      });\n\n      // Remove file from file system and database records\n      this.on(\"removedfile\", function(file) {\n        var mime_type = file.type.split(\"/\");\n        var media_type = mime_type[0];\n        // Do AJAX\n        $.ajax({\n          url: config.productMedia_url + \"/delete\",\n          type: \"DELETE\",\n          cache: false,\n          data: {\n            _token: $(\"#media-dropzone\")\n              .find(\"input[name=_token]\")\n              .val(),\n            mediaId: file.previewElement.getAttribute(\"data-media-id\"),\n            mediaType: media_type\n          },\n          success: function(data) {},\n          error: function(message) {\n            console.log(message[\"responseText\"]);\n          }\n        });\n      });\n    }\n  };\n\n  /* ----------- Product Summary Product Modal functionalities ----------- */\n  // Save as Draft the Product created\n  $(\"#save-draft-button\").click(function(e) {\n    e.preventDefault();\n\n    // Disable save-draft-button and display-button\n    $(\"#display-button\").addClass(\"disabled\");\n    $(this).addClass(\"disabled\");\n    $(this).html(\"Saving as Draft ...\");\n\n    window.setTimeout(function() {\n      location.reload(true);\n    }, 1200);\n  });\n\n  // Display Product created\n  $(\"#display-button\").click(function(e) {\n    e.preventDefault();\n\n    // Disable display-button and save-draft-button\n    $(\"#save-draft-button\").addClass(\"disabled\");\n    $(this).addClass(\"disabled\");\n    $(this).html(\"Displaying ...\");\n\n    product.display_product($(this).parents(\"form\"));\n  });\n\n  // Change html of set-display-photo anchor tag if it is a display photo\n  $(\"body\").on(\"click\", \".set-display-photo\", function(e) {\n    e.preventDefault();\n\n    // Check first if chosen image not the current primary picture\n    if (product.current_display_photo != $(this).attr(\"data-img-id\")) {\n      product.set_display_photo(\n        $(this),\n        $(this).parents(\"form\"),\n        $(this).attr(\"data-product-id\"),\n        $(this).attr(\"data-img-id\")\n      );\n    }\n  });\n\n  $(\"#save-button\").click(function(e) {\n    e.preventDefault();\n\n    // Disable save-button\n    $(this).addClass(\"disabled\");\n    $(this).html(\"Saving ...\");\n\n    window.setTimeout(function() {\n      location.reload(true);\n      location.href = location.origin + \"/breeder/products\"; // redirect to Show Products page\n    }, 1200);\n  });\n\n  /* ----------- Edit Product Modal functionalities ----------- */\n  // Open Edit Media Modal\n  /* $('#edit-media-button').click(function (e) {\n    e.preventDefault();\n    //$('#edit-product-modal').modal('close');\n    $('#edit-media-modal').modal({ dismissible: false });\n    $('#edit-media-modal').modal('open');\n    product.modal_history.push('#edit-media-modal')\n  }); */\n\n  // Open Add Media Modal\n  $(\"#add-media-button\").click(function(e) {\n    e.preventDefault();\n    $(\"#edit-product-modal\").modal(\"close\");\n    $(\"#add-media-modal\").modal({\n      dismissible: false,\n      ready: function() {\n        product.modal_history.push(\"#add-media-modal\");\n      }\n    });\n    $(\"#add-media-modal\").modal(\"open\");\n  });\n\n  /* ----------- Edit Media Modal ----------- */\n  // edit-media-dropzone initialization and configuration\n  Dropzone.options.editMediaDropzone = {\n    paramName: \"media\",\n    uploadMultiple: true,\n    parallelUploads: 1,\n    maxFiles: 12,\n    maxFilesize: 50,\n    acceptedFiles:\n      \"image/png, image/jpeg, image/jpg, video/avi, video/mp4, video/flv, video/mov\",\n    dictDefaultMessage:\n      \"<h5 style='font-weight: 300;'> Drop images/videos here to upload </h5>\" +\n      \"<i class='material-icons'>insert_photo</i> <i class='material-icons'>movie</i>\" +\n      \"<br> <h5 style='font-weight: 300;'> Or just click anywhere in this container to choose file </h5>\",\n    previewTemplate: document.getElementById(\"custom-preview\").innerHTML,\n    init: function() {\n      // Listen to events\n\n      // Set default thumbnail for videos\n      this.on(\"addedfile\", function(file) {\n        if (file.type.match(/video.*/))\n          this.emit(\"thumbnail\", file, config.images_path + \"/video-icon.png\");\n      });\n\n      // Inject attributes on element upon success of multiple uploads\n      this.on(\"successmultiple\", function(files, response) {\n        response = JSON.parse(response);\n        var item = 0;\n        response.forEach(function(element) {\n          var preview_element = files[item].previewElement;\n          preview_element.setAttribute(\"data-media-id\", element.id);\n          preview_element\n            .getElementsByClassName(\"dz-filename\")[0]\n            .getElementsByTagName(\"span\")[0].innerHTML = element.name;\n          item++;\n        });\n\n        $(\".tooltipped\").tooltip({ delay: 50 });\n      });\n\n      // Remove file from file system and database records\n      this.on(\"removedfile\", function(file) {\n        var mime_type = file.type.split(\"/\");\n        var media_type = mime_type[0];\n        // Do AJAX\n        $.ajax({\n          url: config.productMedia_url + \"/delete\",\n          type: \"DELETE\",\n          cache: false,\n          data: {\n            _token: $(\"#media-dropzone\")\n              .find(\"input[name=_token]\")\n              .val(),\n            mediaId: file.previewElement.getAttribute(\"data-media-id\"),\n            mediaType: media_type\n          },\n          success: function(data) {},\n          error: function(message) {\n            console.log(message[\"responseText\"]);\n          }\n        });\n      });\n    }\n  };\n\n  // Delete image / Delete video button\n  $(\"body\").on(\"click\", \".delete-image, .delete-video\", function(e) {\n    e.preventDefault();\n\n    // Disable delete-image/delete-video button\n    $(this).addClass(\"disabled\");\n    $(this).html(\"Deleting ...\");\n\n    var card_container = $(this)\n      .parents(\".card\")\n      .first()\n      .parent();\n    var data_values = {\n      _token: $(\"#media-dropzone\")\n        .find(\"input[name=_token]\")\n        .val(),\n      mediaId: $(this).attr(\"data-media-id\")\n    };\n\n    // Check if the chosen media is an image and is the current display photo\n    if (\n      $(this).hasClass(\"delete-image\") &&\n      $(this).attr(\"data-media-id\") == product.current_display_photo\n    ) {\n      Materialize.toast(\n        \"Cannot delete display photo!\",\n        1500,\n        \"orange accent-2\"\n      );\n\n      // Enable delete-image/delete-video button\n      $(this).removeClass(\"disabled\");\n      $(this).html(\"Delete\");\n    } else {\n      // Initialize mediaType value\n      if ($(this).hasClass(\"delete-image\")) data_values[\"mediaType\"] = \"image\";\n      else data_values[\"mediaType\"] = \"video\";\n\n      // Do AJAX\n      $.ajax({\n        url: config.productMedia_url + \"/delete\",\n        type: \"DELETE\",\n        cache: false,\n        data: data_values,\n        success: function(data) {\n          card_container.remove(); // remove the deleted card\n\n          // added an AJAX prompt when video list is empty\n          if ($(\".delete-video\").length == 0) {\n            var empty_video_prompt =\n              '<p class=\"grey-text\">(No uploaded videos)</p>';\n            $(\"#edit-videos-summary .card-content .row\").html(\n              empty_video_prompt\n            );\n          }\n        },\n        error: function(message) {\n          console.log(message[\"responseText\"]);\n        }\n      });\n    }\n  });\n\n  /* ----------- Form functionalities ----------- */\n  // Breed radio\n  $(\"input.purebreed\").on(\"click\", function() {\n    $(this)\n      .parents(\"form\")\n      .find(\".input-crossbreed-container\")\n      .hide();\n    $(this)\n      .parents(\"form\")\n      .find(\".input-purebreed-container\")\n      .fadeIn(300);\n  });\n  $(\"input.crossbreed\").on(\"click\", function() {\n    $(this)\n      .parents(\"form\")\n      .find(\".input-purebreed-container\")\n      .hide();\n    $(this)\n      .parents(\"form\")\n      .find(\".input-crossbreed-container\")\n      .fadeIn(300);\n  });\n\n  // Manage necessary fields depending on product type\n  /* $(\"#select-type\").on('change', function () {\n    product.manage_necessary_fields($(this).parents('form'), $(this).val());\n  });\n  $(\"#edit-select-type\").on('change', function () {\n    product.manage_necessary_fields($(this).parents('form'), $(this).val());\n  }); */\n\n  // Add other details button\n  $(\".add-other-details\").click(function(e) {\n    e.preventDefault();\n    product.add_other_detail($(this).parents(\"form\"));\n  });\n\n  // Remove a detail from other details section\n  $(\"body\").on(\"click\", \".remove-detail\", function(e) {\n    e.preventDefault();\n    product.remove_other_detail($(this));\n  });\n});\n","\"use strict\";\n\n// Place error on specific HTML input\nvar placeError = function (inputElement, errorMsg) {\n  // Parse id of element if it contains '-' for the special\n  // case of finding the input's respective\n  // label on editProfile pages\n  var inputId =\n    inputElement.id.includes(\"-\") && /\\d/.test(inputElement.id)\n      ? inputElement.id.split(\"-\")[2]\n      : inputElement.id;\n\n  $(inputElement)\n    .parents(\"form\")\n    .find(\"label[for='\" + inputId + \"']\")\n    .attr(\"data-error\", errorMsg);\n\n  setTimeout(function () {\n    if (inputElement.id.includes(\"select\")) {\n      // For select input, find first its respective input text\n      // then add the 'invalid' class\n      $(inputElement)\n        .parents(\".select-wrapper\")\n        .find(\"input.select-dropdown\")\n        .addClass(\"invalid\");\n\n      if (inputId === \"select-type\") {\n        /* Show the validation error  */\n        $(\"#select-type-data-error\").show();\n        $(\"#select-type\").on('change', function () {\n          /* Remove validation error if an option is selected */\n          $(\"#select-type-data-error\").hide();\n        });\n      }\n      else if (inputId === \"select-farm\") {\n        /* Show the validation error  */\n        $(\"#select-farm-data-error\").show();\n        $(\"#select-farm\").on('change', function () {\n          /* Remove validation error if an option is selected */\n          $(\"#select-farm-data-error\").hide();\n        });\n      }\n\n    }\n    else $(inputElement).addClass(\"invalid\");\n  }, 0);\n};\n\n// Place success from specific HTML input\nvar placeSuccess = function (inputElement) {\n  // For select input, find first its respective input text\n  // then add the needed classes\n  var inputTextFromSelect = inputElement.id.includes(\"select\")\n    ? $(inputElement)\n      .parents(\".select-wrapper\")\n      .find(\"input.select-dropdown\")\n    : \"\";\n\n  // Check first if it is invalid\n  if (\n    $(inputElement).hasClass(\"invalid\") ||\n    $(inputTextFromSelect).hasClass(\"invalid\")\n  ) {\n    $(inputElement)\n      .parents(\"form\")\n      .find(\"label[for='\" + inputElement.id + \"']\")\n      .attr(\"data-error\", false);\n\n    setTimeout(function () {\n      if (inputElement.id.includes(\"select\"))\n        inputTextFromSelect.removeClass(\"invalid\").addClass(\"valid\");\n      else\n        $(inputElement)\n          .removeClass(\"invalid\")\n          .addClass(\"valid\");\n    }, 0);\n  } else {\n    if (inputElement.id.includes(\"select\"))\n      inputTextFromSelect.addClass(\"valid\");\n    else $(inputElement).addClass(\"valid\");\n  }\n};\n\nvar validationMethods = {\n  // functions must return either true or the errorMsg only\n  required: function (inputElement) {\n    var errorMsg;\n    if (inputElement.name === \"name\") errorMsg = \"Please enter product name\";\n    else errorMsg = \"This field is required\";\n\n    return inputElement.value ? true : errorMsg;\n  },\n  requiredUserName: function (inputElement) {\n    var errorMsg = \"This field is required\";\n    return inputElement.value ? true : errorMsg;\n  },\n  requiredIfRadio: function (inputElement, radioId) {\n    var errorMsg;\n    if (\n      inputElement.name === \"breed\" ||\n      inputElement.name === \"fbreed\" ||\n      inputElement.name === \"mbreed\"\n    ) {\n      errorMsg = \"Please enter swine breed\";\n    } else errorMsg = \"This field is required.\";\n\n    var radioInputElement = document.getElementById(radioId);\n    if (radioInputElement.checked) return inputElement.value ? true : errorMsg;\n    else return true;\n  },\n  requiredDropdown: function (inputElement) {\n    var errorMsg = \"This field is required\";\n    return inputElement.value ? true : errorMsg;\n  },\n  email: function (inputElement) {\n    var errorMsg = \"Please enter a valid email address\";\n    return /\\S+@\\S+\\.\\S+/.test(inputElement.value) ? true : errorMsg;\n  },\n  minLength: function (inputElement, min) {\n    var errorMsg = \"Please enter \" + min + \" or more characters\";\n    return inputElement.value.length >= min ? true : errorMsg;\n  },\n  equalTo: function (inputElement, compareInputElementId) {\n    var errorMsg = \"Please enter the same value\";\n    var compareInputElement = document.getElementById(compareInputElementId);\n    return inputElement.value === compareInputElement.value ? true : errorMsg;\n  },\n  zipCodePh: function (inputElement) {\n    var errorMsg = \"Please enter zipcode of 4 number characters\";\n    return /\\d{4}/.test(inputElement.value) && inputElement.value.length === 4\n      ? true\n      : errorMsg;\n  },\n  phoneNumber: function (inputElement) {\n    var errorMsg = \"Please enter 11-digit phone number starting with 09\";\n    return /^09\\d{9}/.test(inputElement.value) &&\n      inputElement.value.length === 11\n      ? true\n      : errorMsg;\n  }\n};\n","\"use strict\";\n\nvar validateFunction = function() {\n  return function() {\n    var validateInput = function(inputElement, modal) {\n      // Initialize needed validations\n      var validations = {\n        name: [\"required\"],\n        breed: [\"requiredIfRadio:purebreed\"],\n        fbreed: [\"requiredIfRadio:crossbreed\"],\n        mbreed: [\"requiredIfRadio:crossbreed\"],\n        \"select-type\": [\"requiredDropdown\"],\n        \"select-farm\": [\"requiredDropdown\"],\n        \"edit-name\": [\"required\"],\n        \"edit-breed\": [\"requiredIfRadio:purebreed\"],\n        \"edit-fbreed\": [\"requiredIfRadio:crossbreed\"],\n        \"edit-mbreed\": [\"requiredIfRadio:crossbreed\"],\n        \"edit-select-type\": [\"requiredDropdown\"],\n        \"edit-select-farm\": [\"requiredDropdown\"]\n      };\n\n      // Check if validation rules exist\n      if (validations[inputElement.id]) {\n        var result = true;\n\n        for (var i = 0; i < validations[inputElement.id].length; i++) {\n          var element = validations[inputElement.id][i];\n\n          // Split arguments if there are any\n          var method = element.includes(\":\") ? element.split(\":\") : element;\n\n          result =\n            typeof method === \"object\"\n              ? validationMethods[method[0]](inputElement, method[1])\n              : validationMethods[method](inputElement);\n\n          // Result would return to a string errorMsg if validation fails\n          if (result !== true) {\n            placeError(inputElement, result);\n            return false;\n          }\n        }\n\n        // If all validations succeed then\n        if (result === true) {\n          placeSuccess(inputElement);\n          return true;\n        }\n      }\n    };\n\n    // focusout events on add-product-modal\n    $(\"body\").on(\"focusout\", \"#add-product-modal input\", function(e) {\n      validateInput(this, \"add-product-modal\");\n    });\n\n    // keyup events on add-product-modal\n    $(\"body\").on(\"keyup\", \"#add-product-modal input\", function(e) {\n      if ($(this).hasClass(\"invalid\") || $(this).hasClass(\"valid\"))\n        validateInput(this, \"add-product-modal\");\n    });\n\n    // focusout and keyup events on add-product-modal\n    $(\"body\").on(\"focusout keyup\", \"#edit-product-modal input\", function(e) {\n      validateInput(this, \"edit-product-modal\");\n    });\n\n    // select change events\n    $(\"select\").change(function() {\n      validateInput(this);\n    });\n\n    // Remove respective 'invalid' class and input text value\n    // of current radio when radio value changes\n    $(\"#create-product input[name='radio-breed']\").change(function() {\n      if ($(\"#create-product input:checked\").val() === \"crossbreed\") {\n        $(\"input#breed\").val(\"\");\n        $(\"input#breed\").removeClass(\"valid invalid\");\n      } else {\n        $(\"input#fbreed, input#mbreed\").val(\"\");\n        $(\"input#fbreed, input#mbreed\").removeClass(\"valid invalid\");\n      }\n    });\n\n    // Submit add product\n    $(\"#create-product\").submit(function(e) {\n      e.preventDefault();\n\n      var validName = validateInput(document.getElementById(\"name\"));\n      var validType = validateInput(document.getElementById(\"select-type\"));\n      var validFarmFrom = validateInput(document.getElementById(\"select-farm\"));\n      var validBreed = true;\n\n      // Validate appropriate breed input/s according to chosen radio breed value\n      if ($(\"#create-product input:checked\").val() === \"crossbreed\") {\n        var validFbreed = validateInput(document.getElementById(\"fbreed\"));\n        var validMbreed = validateInput(document.getElementById(\"mbreed\"));\n        validBreed = validBreed && validFbreed && validMbreed;\n      } else validBreed = validateInput(document.getElementById(\"breed\"));\n\n      if (validName && validType && validFarmFrom && validBreed) {\n        // Disable submit/add product button\n        $(\"#submit-button\").addClass(\"disabled\");\n        $(\"#submit-button\").html(\"Adding Product ...\");\n\n        product.add($(\"#create-product\"));\n      } else Materialize.toast(\"Please properly fill all required fields.\", 2500, \"orange accent-2\");\n    });\n\n    // Update details of a product\n    $(\".update-button\").click(function(e) {\n      e.preventDefault();\n\n      var validName = validateInput(document.getElementById(\"edit-name\"));\n      var validType = validateInput(\n        document.getElementById(\"edit-select-type\")\n      );\n      var validFarmFrom = validateInput(\n        document.getElementById(\"edit-select-farm\")\n      );\n      var validBreed = true;\n\n      // Validate appropriate breed input/s according to chosen radio breed value\n      if ($(\"#edit-product input:checked\").val() === \"crossbreed\") {\n        var validFbreed = validateInput(document.getElementById(\"edit-fbreed\"));\n        var validMbreed = validateInput(document.getElementById(\"edit-mbreed\"));\n        validBreed = validBreed && validFbreed && validMbreed;\n      } else validBreed = validateInput(document.getElementById(\"edit-breed\"));\n\n      if (validName && validType && validFarmFrom && validBreed) {\n        // Disable update-button\n        $(this).addClass(\"disabled\");\n        $(this).html(\"Updating...\");\n        submitEditedProduct($(\"#edit-product\"), $(this));\n      } else Materialize.toast(\"Please properly fill all required fields.\", 2500, \"orange accent-2\");\n    });\n  };\n};\n\n$(document).ready(validateFunction());\n"]}